<form [formGroup]="releaseForm">
    <div class=" mt-3 container" style="padding:0px">

        <mat-tab-group animationDuration="0ms" headerPosition="above" [selectedIndex]="1">


            <mat-tab label="Validate">
                <div class="release-container">
                    <div class="release-heading" *ngIf="program[0]">
                        <h6>{{ program[0] ? program[0].grantPgmDesc + " (" +
                            program[0].grantPgm
                            + ")" + " - " + program[0].rvwStart : "" }} <mat-icon style="color:green" *ngIf="program[0].recStat==='O'">verified</mat-icon>
                            <mat-icon style="color:red" *ngIf="program[0].recStat==='E'">dangerous</mat-icon>
                            
                        </h6>

                    </div>
                    <div class="release-action-items">
                        <button style="margin-top:-30px"  mat-button color="primary" *ngIf="validateReview===false" (click)="onValidateReview('selected')">
                            <mat-icon style="margin-right: 5px;margin-top:-5px">fact_check</mat-icon>Validate All
                          </button>
                          <button  style="margin-top:-30px"   mat-button color="primary" *ngIf="validateReview===false" (click)="onValidateReview('all')">
                            <mat-icon  style="margin-right: 5px;margin-top:-5px">fact_check</mat-icon>Validate selected
                          </button>
                          <button  style="margin-top:-30px"  *ngIf="validateReview===true" (click)="cancelValidate()" class="mt-n1" mat-button color="primary">
                            <mat-icon color="accent" class="ft-size">cancel</mat-icon>Cancel
                          </button>

                    </div>
                    <table style="border:1px solid #efefef" class="mt-4 w-100 table-hover" mat-table
                    [dataSource]="reviewTypes" matSort>
                    <!-- <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> # </th>
                        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
                    </ng-container> -->
                  
                   
                    <ng-container matColumnDef="reviewType">
                        <th mat-header-cell *matHeaderCellDef> Review Type </th>
                        <td mat-cell *matCellDef="let element">
                            {{ element? element.rvwDesc + " (" + element.rvwType + ")": ""}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="select">
                        <th mat-header-cell *matHeaderCellDef> Select </th>
                        <td mat-cell *matCellDef="let element; let indexVal = index">
                            <span *ngIf="validateReview===true && element.checked===true ">
                                <mat-spinner  [diameter]="30"></mat-spinner> 
                            </span>
                            <mat-checkbox [checked]="element.checked" (change)="updateSelection($event.checked,indexVal)" *ngIf="validateReview===false || (validateReview===true && element.checked===false )  "></mat-checkbox>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Status</th>
                        <td mat-cell *matCellDef="let element">
                            <a>
                                <mat-icon style="color:green" *ngIf="element.recStat==='O'">verified</mat-icon>
                                <mat-icon style="color:red" *ngIf="element.recStat==='E'">dangerous</mat-icon>
                           </a>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedFields"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedFields;"></tr>
                </table>

                </div>








               

            </mat-tab>
            <mat-tab label="Release">
                <div class="release-container">
                    <div class="release-heading">
                        <h6>{{ program[0] ? program[0].grantPgmDesc + " (" +
                            program[0].grantPgm
                            + ")" + " - " + program[0].rvwStart : "" }} <mat-icon style="color:green" *ngIf="program[0].recStat==='O'">verified</mat-icon>
                            <mat-icon style="color:red" *ngIf="program[0].recStat==='E'">dangerous</mat-icon>
                        </h6>

                    </div>
                    <div class="release-action-items">
                        <button style="margin-top:-30px"  mat-button color="primary" *ngIf="releaseReview===false" (click)="onReleaseReview('selected')">
                            <mat-icon style="margin-right: 5px;margin-top:-5px">fact_check</mat-icon>Release All
                          </button>
                          <button  style="margin-top:-30px"   mat-button color="primary" *ngIf="releaseReview===false" (click)="onReleaseReview('all')">
                            <mat-icon  style="margin-right: 5px;margin-top:-5px">fact_check</mat-icon>Release selected
                          </button>
                          <button  style="margin-top:-30px"  *ngIf="releaseReview===true" (click)="cancelValidate()" class="mt-n1" mat-button color="primary">
                            <mat-icon color="accent" class="ft-size">cancel</mat-icon>Cancel
                          </button>

                    </div>
                    <table style="border:1px solid #efefef" class="mt-4 w-100 table-hover" mat-table
                    [dataSource]="reviewTypes" matSort>
                    <!-- <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> # </th>
                        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
                    </ng-container> -->
                  
                   
                    <ng-container matColumnDef="reviewType">
                        <th mat-header-cell *matHeaderCellDef> Review Type </th>
                        <td mat-cell *matCellDef="let element">
                            {{ element? element.rvwDesc + " (" + element.rvwType + ")": ""}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="select">
                        <th mat-header-cell *matHeaderCellDef> Select </th>
                        <td mat-cell *matCellDef="let element; let indexVal = index">
                            <span *ngIf="validateReview===true && element.checked===true ">
                                <mat-spinner  [diameter]="30"></mat-spinner> 
                            </span>
                            <mat-checkbox [checked]="element.checked" (change)="updateSelection($event.checked,indexVal)" *ngIf="validateReview===false || (validateReview===true && element.checked===false )  "></mat-checkbox>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Status</th>
                        <td mat-cell *matCellDef="let element">
                            <a>
                                <mat-icon style="color:green" *ngIf="element.recStat==='O'">verified</mat-icon>
                                <mat-icon style="color:red" *ngIf="element.recStat==='E'">dangerous</mat-icon>
                            </a>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedFields"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedFields;"></tr>
                </table>
                </div>

            </mat-tab>


        </mat-tab-group>

    </div>

</form>
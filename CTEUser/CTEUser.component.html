<app-user-security-landing [selectedTabIndex]="selectedIndex"></app-user-security-landing>

<div class="row d-height">
    <div class="spinner" *ngIf="showSpinner">
        <div class="fa-3x">
            <i class="fa fa-spinner fa-spin"></i>
        </div>
    </div>
    <div>
        <div class="col-2 ms-2 mt-3">
            <mat-form-field>
                <mat-label>CEPD</mat-label>
                <mat-select>
                    <mat-option style="color: rgb(9, 2, 2);" *ngFor="let value of cepdList"
                        (onSelectionChange)="selectedCEPDList(value, $event)" [value]="value.id">
                        {{value.itemName}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <mat-card>
            <div class="row" style="display: flex;">
                <div class="col-lg-12 mt-10">
                    <mat-accordion class="example-headers-align" multi>
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header #panelSearch class="mat-expansion-panel-header">
                                <mat-panel-title>
                                    <div class="row" style="width: 100%;">
                                        <div class="col-lg-9">
                                            <span class="mat-panel-title-span">CEPD Administrators</span>
                                        </div>
                                    </div>
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="row mt-10">
                                <div class="row">
                                    <table mat-table [dataSource]="cepdAdminList" class="tbl-width">
                                        <ng-container matColumnDef="user">
                                            <th mat-header-cell *matHeaderCellDef>User</th>
                                            <td mat-cell *matCellDef="let element">
                                                <div appearance="outline" class="search-results-count-box">
                                                    <mat-form-field class="full-width">
                                                        <input matInput [matAutocomplete]="auto"
                                                            placeholder="Min 3 Characters Ex. Ogs" />
                                                        <button matSuffix mat-icon-button aria-label="Clear">
                                                            <mat-icon>close</mat-icon>
                                                        </button>
                                                        <div style="margin-bottom: -30px">
                                                            <mat-icon style="margin-top: -2px" matSuffix></mat-icon>
                                                        </div>
                                                        <span matSuffix>
                                                            <mat-icon matSuffix>search</mat-icon>
                                                        </span>
                                                        <mat-label>Search User(s)</mat-label>
                                                        <mat-autocomplete [panelWidth]="480" #auto="matAutocomplete">
                                                            <mat-option class="is-loading">Loading...</mat-option>
                                                            <ng-container>
                                                                <mat-option>
                                                                    <span></span>
                                                                </mat-option>
                                                            </ng-container>
                                                        </mat-autocomplete>
                                                    </mat-form-field>
                                                </div>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="psNo">
                                            <th mat-header-cell *matHeaderCellDef>PSNo.</th>
                                            <td mat-cell *matCellDef="let element">
                                                <button class="cursor button-blue" mat-raised-button>View PSNo</button>
                                            </td>
                                        </ng-container>
                                        <ng-container matColumnDef="action">
                                            <th mat-header-cell *matHeaderCellDef>Action</th>
                                            <td mat-cell *matCellDef="let element">
                                                <button *ngIf="element.isSaved" class="cursor button-red"
                                                    mat-raised-button>Remove</button>
                                                <button *ngIf="!element.isSaved" class="cursor button-blue"
                                                    mat-raised-button>Save</button>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                        <tr class="mat-row" *matNoDataRow>
                                            <td class="mat-cell" [attr.colspan]="displayedColumns.length"> No data
                                                found.</td>
                                        </tr>
                                    </table>
                                    <button class="cursor col-2 mt-2 button-blue" mat-raised-button>Add CEPD
                                        Administrator</button>
                                </div>
                            </div>
                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </div>
        </mat-card>
        <mat-card>
            <div class="row" style="display: flex;">
                <div class="col-lg-12 mt-10">
                    <mat-accordion class="example-headers-align" multi>
                        <mat-expansion-panel [expanded]="true">
                            <mat-expansion-panel-header #panelSearch class="mat-expansion-panel-header">
                                <mat-panel-title>
                                    <div class="row" style="width: 100%;">
                                        <div class="col-lg-9">
                                            <span class="mat-panel-title-span">Building List(s)</span>
                                        </div>
                                    </div>
                                </mat-panel-title>
                            </mat-expansion-panel-header>
                            <div class="row mt-10">
                                <ng-container *ngFor="let buildingDetails of buildingList; let i = index">
                                    <div class="row" style="display: flex;">
                                        <div class="col-lg-12 mt-10">
                                            <mat-accordion class="example-headers-align" multi>
                                                <mat-expansion-panel [expanded]="false">
                                                    <mat-expansion-panel-header #panelSearch
                                                        class="mat-expansion-panel-header">
                                                        <mat-panel-title>
                                                            <div class="row" style="width: 100%;">
                                                                <div class="col-lg-9">
                                                                    <span
                                                                        class="mat-panel-title-span">{{buildingDetails.buildingName}}</span>
                                                                </div>
                                                            </div>
                                                        </mat-panel-title>
                                                    </mat-expansion-panel-header>
                                                    <div class="row mt-10">
                                                        <span class="building-header">Building Administration(s)</span>
                                                        <div class="row">
                                                            <table mat-table [dataSource]="cepdAdminList"
                                                                class="tbl-width">
                                                                <ng-container matColumnDef="user">
                                                                    <th mat-header-cell *matHeaderCellDef>User</th>
                                                                    <td mat-cell *matCellDef="let element">
                                                                        <div appearance="outline"
                                                                            class="search-results-count-box">
                                                                            <mat-form-field class="full-width">
                                                                                <input matInput [matAutocomplete]="auto"
                                                                                    placeholder="Min 3 Characters Ex. Ogs" />
                                                                                <button matSuffix mat-icon-button
                                                                                    aria-label="Clear">
                                                                                    <mat-icon>close</mat-icon>
                                                                                </button>
                                                                                <div style="margin-bottom: -30px">
                                                                                    <mat-icon style="margin-top: -2px"
                                                                                        matSuffix></mat-icon>
                                                                                </div>
                                                                                <span matSuffix>
                                                                                    <mat-icon
                                                                                        matSuffix>search</mat-icon>
                                                                                </span>
                                                                                <mat-label>Search User(s)</mat-label>
                                                                                <mat-autocomplete [panelWidth]="480"
                                                                                    #auto="matAutocomplete">
                                                                                    <mat-option
                                                                                        class="is-loading">Loading...</mat-option>
                                                                                    <ng-container>
                                                                                        <mat-option>
                                                                                            <span></span>
                                                                                        </mat-option>
                                                                                    </ng-container>
                                                                                </mat-autocomplete>
                                                                            </mat-form-field>
                                                                        </div>
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container matColumnDef="psNo">
                                                                    <th mat-header-cell *matHeaderCellDef>PSNo.</th>
                                                                    <td mat-cell *matCellDef="let element">
                                                                        <button class="cursor button-blue"
                                                                            mat-raised-button>View PSNo</button>
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container matColumnDef="action">
                                                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                                                    <td mat-cell *matCellDef="let element">
                                                                        <button *ngIf="element.isSaved"
                                                                            class="cursor button-red"
                                                                            mat-raised-button>Remove</button>
                                                                        <button *ngIf="!element.isSaved"
                                                                            class="cursor button-blue"
                                                                            mat-raised-button>Save</button>
                                                                    </td>
                                                                </ng-container>
                                                                <tr mat-header-row
                                                                    *matHeaderRowDef="displayedColumns; sticky: true">
                                                                </tr>
                                                                <tr mat-row
                                                                    *matRowDef="let row; columns: displayedColumns;">
                                                                </tr>
                                                                <tr class="mat-row" *matNoDataRow>
                                                                    <td class="mat-cell"
                                                                        [attr.colspan]="displayedColumns.length"> No
                                                                        data found.</td>
                                                                </tr>
                                                            </table>
                                                            <button class="cursor col-2 mt-2 button-blue"
                                                                mat-raised-button>Add Building Administrator</button>
                                                        </div>
                                                        <div class="row mt-3">
                                                            <span class="building-header">Teacher(s)</span>
                                                            <table mat-table [dataSource]="cepdAdminList"
                                                                class="tbl-width">
                                                                <ng-container matColumnDef="user">
                                                                    <th mat-header-cell *matHeaderCellDef>User</th>
                                                                    <td mat-cell *matCellDef="let element">
                                                                        <div appearance="outline"
                                                                            class="search-results-count-box">
                                                                            <mat-form-field class="full-width">
                                                                                <input matInput [matAutocomplete]="auto"
                                                                                    placeholder="Min 3 Characters Ex. Ogs" />
                                                                                <button matSuffix mat-icon-button
                                                                                    aria-label="Clear">
                                                                                    <mat-icon>close</mat-icon>
                                                                                </button>
                                                                                <div style="margin-bottom: -30px">
                                                                                    <mat-icon style="margin-top: -2px"
                                                                                        matSuffix></mat-icon>
                                                                                </div>
                                                                                <span matSuffix>
                                                                                    <mat-icon
                                                                                        matSuffix>search</mat-icon>
                                                                                </span>
                                                                                <mat-label>Search User(s)</mat-label>
                                                                                <mat-autocomplete [panelWidth]="480"
                                                                                    #auto="matAutocomplete">
                                                                                    <mat-option
                                                                                        class="is-loading">Loading...</mat-option>
                                                                                    <ng-container>
                                                                                        <mat-option>
                                                                                            <span></span>
                                                                                        </mat-option>
                                                                                    </ng-container>
                                                                                </mat-autocomplete>
                                                                            </mat-form-field>
                                                                        </div>
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container matColumnDef="psNo">
                                                                    <th mat-header-cell *matHeaderCellDef>PSNo.</th>
                                                                    <td mat-cell *matCellDef="let element">
                                                                        <button class="cursor button-blue"
                                                                            mat-raised-button>View PSNo</button>
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container matColumnDef="action">
                                                                    <th mat-header-cell *matHeaderCellDef>Action</th>
                                                                    <td mat-cell *matCellDef="let element">
                                                                        <button *ngIf="element.isSaved"
                                                                            class="cursor button-red"
                                                                            mat-raised-button>Remove</button>
                                                                        <button *ngIf="!element.isSaved"
                                                                            class="cursor button-blue"
                                                                            mat-raised-button>Save</button>
                                                                    </td>
                                                                </ng-container>
                                                                <tr mat-header-row
                                                                    *matHeaderRowDef="displayedColumns; sticky: true">
                                                                </tr>
                                                                <tr mat-row
                                                                    *matRowDef="let row; columns: displayedColumns;">
                                                                </tr>
                                                                <tr class="mat-row" *matNoDataRow>
                                                                    <td class="mat-cell"
                                                                        [attr.colspan]="displayedColumns.length"> No
                                                                        data found.</td>
                                                                </tr>
                                                            </table>
                                                            <button class="cursor col-2 mt-2 button-blue"
                                                                mat-raised-button>Add New Teacher</button>
                                                        </div>
                                                    </div>
                                                </mat-expansion-panel>
                                            </mat-accordion>
                                        </div>
                                    </div>
                                </ng-container>

                            </div>

                        </mat-expansion-panel>
                    </mat-accordion>
                </div>
            </div>
        </mat-card>
    </div>
</div>


<form [formGroup]="findingForm">
  <div class="row" style="padding:15px">
    <div class="col-lg-8">
      <mat-form-field class="full-width">
        <input matInput  
           [matAutocomplete]="auto"  formControlName="searchCitation"
           placeholder="Min 3 Characters Ex. Ogs" />
        <button  matSuffix mat-icon-button
           aria-label="Clear" (click)="clearSelection()">
           <mat-icon>close</mat-icon>
        </button>
        <div style="margin-bottom: -30px">
           <mat-icon style="margin-top: -2px" matSuffix></mat-icon>
        </div>
        <span matSuffix>
           <mat-icon matSuffix>search</mat-icon>
        </span>
        <mat-label>Select Citation</mat-label>
        <mat-autocomplete [panelWidth]="670" #auto="matAutocomplete"
           [displayWith]="displayWith">
           <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
           <ng-container *ngIf="!isLoading">
              <mat-option (click)="onSelect(citation)" *ngFor="let citation of filteredCitation"
                 [value]="citation">
                 <span><b>{{citation.cfaDesc}}</b>
                    </span>
              </mat-option>
           </ng-container>
        </mat-autocomplete>
     </mat-form-field>
   <p *ngIf = "citationValue!=''" style="border: 1px solid #efefef; padding:20px">
    
   {{ citationValue.cfaDesc}}
   </p>
</div>
<div class="col-lg-4">
  <mat-form-field matTooltip="Example : Choose an option from the drop down"
  class="full-width">
  <mat-label>Citation Category</mat-label>
  
  <mat-select  formControlName="citationCat" [disabled]="true">
    <mat-option style="color: rgb(9, 2, 2);" *ngFor="let cat of citationCategory" [value]="cat.refDesc">
      {{cat.refDesc }}
    </mat-option>
  </mat-select>
  
</mat-form-field>

 </div>
</div>
<div class="row" style="padding:15px">
  <div class="col-lg-8">
    <mat-form-field class="full-width">
      <input matInput  
         [matAutocomplete]="autoFinding" formControlName="searchFinding"
         placeholder="Min 3 Characters Ex. Ogs" />
      <button  matSuffix mat-icon-button
         aria-label="Clear" (click)="clearSelection1()">
         <mat-icon>close</mat-icon>
      </button>
      <div style="margin-bottom: -30px">
         <mat-icon style="margin-top: -2px" matSuffix></mat-icon>
      </div>
      <span matSuffix>
         <mat-icon matSuffix>search</mat-icon>
      </span>
      <mat-label>Select Finding</mat-label>
      <mat-autocomplete [panelWidth]="670" #autoFinding="matAutocomplete"
         [displayWith]="displayWithFinding">
         <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
         <ng-container *ngIf="!isLoading">
            <mat-option (click)= "selectFinding(find)" *ngFor="let find of filteredFinding"
               [value]="find">
               <span><b>{{find.cfaDesc}}</b>
                  </span>
            </mat-option>
         </ng-container>
      </mat-autocomplete>
   </mat-form-field>

   <p *ngIf = "findingValue!=''" style="border: 1px solid #efefef; padding:20px">
    
    {{ findingValue.cfaDesc}}
    </p>
    </div>
<div class="col-lg-4">
  <mat-form-field matTooltip="Example : Choose an option from the drop down"
  class="full-width">
  <mat-label>Finding Category</mat-label>
  <mat-select  formControlName="findingCat" [disabled]="true">
    <mat-option style="color: rgb(9, 2, 2);" *ngFor="let cat of findingCategory" [value]="cat.refDesc">
      {{cat.refDesc }}
    </mat-option>
  </mat-select>
  
</mat-form-field>
<div class="row">
  <label class="float-left">Edit</label>
  <mat-slide-toggle [disabled]="true" [checked]="findingEdit === 'Y' ? true : false"
  (change)="findingEdit=!findingEdit"
    class="float-right">
  </mat-slide-toggle>
</div>
<div class="row">
  <label class="float-left">ARC</label>
  <mat-slide-toggle [disabled]="true" [checked]="findingARC === 'Y' ? true : false"
  (change)="findingARC=!findingARC"
    class="float-right">
  </mat-slide-toggle>
</div></div>
</div>
<div class="row">
  <div class="col-md-8 col-lg-8" >
    <div class="row" style="margin-left: 15px;">
    <label id="example-radio-group-label" class="col-lg-3" style="font-size: 14px;color: rgba(0, 0, 0, 0.38);">Entity level</label>
    <div class="col-lg-10">      
    <mat-radio-group layout="row" aria-labelledby="example-radio-group-label" (change)="onEntityLevelChange($event)" [(ngModel)]="entityLevel" class="col-lg-9" 
      class="radio-group">
      <mat-radio-button [checked]="entityLevel==='SP'" [value]="'S'" class="radio-button col-md-3" style="font-size: 12px;" 
        >
       Sponser
      </mat-radio-button>
      <mat-radio-button [checked]="entityLevel==='S'" [value]="'S'" class="radio-button col-md-3" style="font-size: 12px;" 
      >
    Site
    </mat-radio-button>
    <mat-radio-button [checked]="entityLevel==='B'" [value]="'B'" class="radio-button col-md-3" style="font-size: 12px;" 
    >
  Both
  </mat-radio-button>
    </mat-radio-group>
  </div>
</div>
  </div>
  <div class=" col-lg-4 col-md-4 clearfix mt-3 mb-3 align-left" style=" text-align: left;margin-left:-15px;
border: 0;">
 
  <button class="primary"
    style="font-size:12px;border-radius:5px;padding:5px;border:1px solid #1857a4;margin-left:20px;background-color: white !important;"
    (click)="searchFindings()">
    Search
  </button>
</div>
 
</div>


  <div class="row mt-3">
    <app-setup [data]="findingResult"></app-setup>
  <!-- <table  style="border:1px solid #efefef" class="mt-4 w-100 table-hover" mat-table [dataSource]="dataSourceDocuments" matSort>
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> # </th>
      <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
    </ng-container>

    <ng-container matColumnDef="documentName">
      <th mat-header-cell *matHeaderCellDef>Action items, Recommendations and Commendation(ARC)</th>
      <td mat-cell *matCellDef="let element"> {{element.docName}} </td>
    </ng-container>

    <ng-container matColumnDef="documentCategory">
      <th mat-header-cell *matHeaderCellDef> ARC Category </th>
      <td mat-cell *matCellDef="let element;">
        <mat-form-field style="width: 90%;">
          <mat-select formControlName="doctblCategoryCtrl">
            <mat-option style="color: rgb(9, 2, 2);" *ngFor="let docCategory of documentCategoryList"
              [value]="docCategory.refCode">
              {{docCategory.refDesc}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </td>
    </ng-container>

   

   
   
    <ng-container matColumnDef="inactive">
      <th mat-header-cell *matHeaderCellDef> Edit? </th>
      <td mat-cell *matCellDef="let element">
        <mat-checkbox></mat-checkbox>
      </td>
    </ng-container>
  
 
    <tr mat-header-row *matHeaderRowDef="displayedFields"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedFields;"></tr>
  </table> -->
</div>
  <!-- Favorite fruits
  <mat-form-field appearance="outline">
    <mat-chip-list #fruitList required formControlName="fruits">
      <mat-chip *ngFor="let fruit of user.fruits" [removable]="removable" (removed)="remove(fruit)">
        {{fruit.name}}
        <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
      </mat-chip>
      <input #fruitInput placeholder="Add your favorite fruits" [matChipInputFor]="fruitList"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes" [matChipInputAddOnBlur]="addOnBlur"
        (matChipInputTokenEnd)="addFruit($event)" [matAutocomplete]="fruitsAutocomplete" formControlName="fruitInput" />
    </mat-chip-list>
    <mat-autocomplete #fruitsAutocomplete="matAutocomplete" (optionSelected)="selectFruit($event);">
      <mat-option *ngFor="let fruit of filteredFruits$ | async" [value]="fruit">
        {{fruit.name}}
      </mat-option>
    </mat-autocomplete>
    <mat-error>At least 1 fruit need to be added</mat-error>
  </mat-form-field> -->
</form>